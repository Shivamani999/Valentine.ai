<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Will You Be Mine?</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --rose:      #c9475b;
    --rose-dark: #a33249;
    --blush:     #f5e0e4;
    --cream:     #fdf6f0;
    --text:      #4a2a35;
    --text-light:#7a5060;
  }

  body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--cream);
    font-family: 'Cormorant Garamond', serif;
    color: var(--text);
    overflow: hidden;
    position: relative;
  }

  .petal {
    position: fixed;
    background: var(--rose);
    border-radius: 0 50% 50% 50%;
    opacity: 0.15;
    pointer-events: none;
    animation: fall linear infinite;
    transform: rotate(45deg);
  }
  @keyframes fall {
    0%   { transform: translateY(-60px) rotate(45deg); opacity: 0.2; }
    100% { transform: translateY(110vh) rotate(405deg); opacity: 0; }
  }

  .card {
    background: #fff;
    border-radius: 24px;
    padding: 56px 48px 48px;
    box-shadow: 0 8px 40px rgba(201,71,91,.12), 0 2px 8px rgba(201,71,91,.06);
    text-align: center;
    max-width: 440px;
    width: 90%;
    position: relative;
    z-index: 1;
    animation: slideUp .7s cubic-bezier(.22,1,.36,1) both;
  }
  @keyframes slideUp {
    from { opacity:0; transform:translateY(40px); }
    to   { opacity:1; transform:translateY(0);    }
  }

  .heart-icon {
    width: 56px; height: 56px;
    margin: 0 auto 24px;
    animation: heartbeat 1.4s ease infinite;
  }
  @keyframes heartbeat {
    0%,100% { transform: scale(1);   }
    15%     { transform: scale(1.15);}
    30%     { transform: scale(1);   }
    45%     { transform: scale(1.1); }
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: 2.1rem; font-weight: 700;
    color: var(--rose-dark);
    line-height: 1.25; margin-bottom: 12px;
    letter-spacing: -0.5px;
  }
  .subtitle {
    font-size: 1.15rem; font-weight: 300;
    color: var(--text-light);
    margin-bottom: 36px; line-height: 1.5;
  }

  .btn-row {
    display: flex;
    justify-content: center;
    gap: 20px;
    position: relative;
    min-height: 54px;
  }
  .btn {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem; font-weight: 600;
    border: none; border-radius: 50px;
    padding: 14px 38px; cursor: pointer;
    transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    user-select: none; -webkit-user-select: none;
  }
  .btn-yes {
    background: var(--rose); color: #fff;
    box-shadow: 0 4px 18px rgba(201,71,91,.35);
  }
  .btn-yes:hover {
    background: var(--rose-dark);
    transform: translateY(-2px);
    box-shadow: 0 6px 24px rgba(201,71,91,.45);
  }
  .btn-yes:active { transform: translateY(0); }

  .btn-no {
    background: var(--blush); color: var(--rose-dark);
    box-shadow: 0 2px 10px rgba(0,0,0,.08);
    position: static;
    z-index: 10;
    transition: left .15s ease, top .15s ease;
  }
  .btn-no:hover { box-shadow: 0 4px 16px rgba(0,0,0,.12); }

  .no-hint {
    margin-top: 28px; font-size: 0.88rem;
    color: var(--text-light);
    opacity: 0; transition: opacity .4s ease;
  }
  .no-hint.visible { opacity: 1; }

  .celebration-overlay {
    position: fixed; inset: 0;
    background: linear-gradient(135deg, #fff0f3 0%, #fdf6f0 50%, #fff0f3 100%);
    z-index: 100;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity .6s ease;
  }
  .celebration-overlay.show { opacity: 1; pointer-events: auto; }

  .celeb-heart {
    font-size: 5rem;
    animation: bigPulse 1s ease infinite;
    margin-bottom: 12px;
    filter: drop-shadow(0 0 18px rgba(201,71,91,.4));
  }
  @keyframes bigPulse {
    0%,100% { transform: scale(1);    }
    50%     { transform: scale(1.18); }
  }
  .celeb-text h2 {
    font-family: 'Playfair Display', serif;
    font-size: 2.4rem; font-weight: 700;
    color: var(--rose-dark); margin-bottom: 8px;
  }
  .celeb-text p {
    font-size: 1.2rem; color: var(--text-light); font-weight: 300;
  }
  .glow-ring {
    position: absolute; width: 180px; height: 180px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(201,71,91,.18) 0%, transparent 70%);
    animation: glowPulse 2s ease infinite; z-index: -1;
  }
  @keyframes glowPulse {
    0%,100% { transform: scale(1);   opacity: .6; }
    50%     { transform: scale(1.3); opacity: .15; }
  }
  .burst-heart { position: absolute; font-size: 1.8rem; pointer-events: none; opacity: 0; }
  @keyframes burstOut {
    0%   { transform: translate(0,0) scale(0) rotate(0deg); opacity: 1; }
    60%  { opacity: 1; }
    100% { transform: var(--end-pos) scale(1) rotate(var(--rot)); opacity: 0; }
  }
  .float-heart { position: fixed; pointer-events: none; opacity: 0; animation: floatUp linear infinite; }
  @keyframes floatUp {
    0%   { transform: translateY(0) translateX(0) scale(var(--s)); opacity: 0; }
    10%  { opacity: var(--o); }
    50%  { transform: translateY(-50vh) translateX(var(--drift)) scale(var(--s)); }
    90%  { opacity: var(--o); }
    100% { transform: translateY(-105vh) translateX(0) scale(var(--s)); opacity: 0; }
  }
  .sparkle { position: absolute; width: 8px; height: 8px; background: var(--rose); border-radius: 50%; pointer-events: none; opacity: 0; }
  @keyframes sparkleAnim {
    0%   { transform: translate(0,0) scale(0); opacity: 0; }
    40%  { opacity: .9; }
    100% { transform: var(--sp-end) scale(0); opacity: 0; }
  }
</style>
</head>
<body>

<div class="card" id="mainCard">
  <div id="questionView">
    <svg class="heart-icon" viewBox="0 0 24 24" fill="var(--rose)">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>
    <h1>Will you be<br/>my Valentine?</h1>
    <p class="subtitle">I have been waiting for the right moment<br/>to ask you this‚Ä¶</p>
    <div class="btn-row" id="btnRow">
      <button class="btn btn-yes" id="btnYes">Yes</button>
      <button class="btn btn-no"  id="btnNo">No</button>
    </div>
    <p class="no-hint" id="noHint">Nice try‚Ä¶ but that button doesn't want to cooperate üòâ</p>
  </div>
</div>

<div class="celebration-overlay" id="celebOverlay">
  <div class="glow-ring"></div>
  <div class="celeb-heart">üíù</div>
  <div class="celeb-text">
    <h2>You said Yes!</h2>
    <p>I can't wait to spend this Valentine's with you ‚ù§Ô∏è</p>
  </div>
</div>

<script>
(function(){
  const btnNo   = document.getElementById('btnNo');
  const btnYes  = document.getElementById('btnYes');
  const noHint  = document.getElementById('noHint');
  const card    = document.getElementById('mainCard');
  const overlay = document.getElementById('celebOverlay');

  let escaped = false, cachedBtnW = 0, cachedBtnH = 0;
  let mouseX = window.innerWidth / 2, mouseY = window.innerHeight / 2;
  document.addEventListener('mousemove', function(e){ mouseX = e.clientX; mouseY = e.clientY; });

  let attempts = 0, lastDodgeTime = 0;
  btnNo.addEventListener('mouseenter', dodge);
  btnNo.addEventListener('mousemove',  dodge);

  function dodge(){
    const now = Date.now();
    if(now - lastDodgeTime < 150) return;
    lastDodgeTime = now;

    if(!escaped){
      escaped = true;
      cachedBtnW = btnNo.offsetWidth;
      cachedBtnH = btnNo.offsetHeight;
      card.appendChild(btnNo);
      btnNo.style.position = 'absolute';
    }
    attempts++;

    const btnW = cachedBtnW || btnNo.offsetWidth || 100;
    const btnH = cachedBtnH || btnNo.offsetHeight || 46;
    
    const cardRect = card.getBoundingClientRect();
    const containerW = cardRect.width;
    const containerH = cardRect.height;
    const margin = 16;
    const minDist = 180;

    const safeMinX = margin;
    const safeMaxX = containerW - btnW - margin;
    const safeMinY = margin;
    const safeMaxY = containerH - btnH - margin;

    const mouseXrel = mouseX - cardRect.left;
    const mouseYrel = mouseY - cardRect.top;

    let x, y, tries = 0;
    do {
      x = safeMinX + Math.random() * (safeMaxX - safeMinX);
      y = safeMinY + Math.random() * (safeMaxY - safeMinY);
      const dist = Math.sqrt(((x+btnW/2)-mouseXrel)**2 + ((y+btnH/2)-mouseYrel)**2);
      tries++;
      if(dist >= minDist) break;
    } while(tries < 50);

    x = Math.max(safeMinX, Math.min(x, safeMaxX));
    y = Math.max(safeMinY, Math.min(y, safeMaxY));
    btnNo.style.left = x+'px';
    btnNo.style.top  = y+'px';
    if(attempts === 1) noHint.classList.add('visible');
  }

  btnYes.addEventListener('click', function(){
    card.style.transition = 'opacity .4s ease, transform .4s ease';
    card.style.opacity    = '0';
    card.style.transform  = 'scale(.92)';

    setTimeout(function(){
      card.style.display = 'none';
      overlay.classList.add('show');
      spawnBurstHearts(overlay);
      spawnFloatingHearts(overlay);
      spawnSparkles(overlay);
    }, 420);
  });

  function spawnBurstHearts(container){
    const hearts = ['üíù','üíñ','üíó','üíì','üíï','‚ù§Ô∏è','ü•∞','üíò'];
    for(let i=0; i<16; i++){
      const el = document.createElement('div');
      el.className = 'burst-heart';
      el.textContent = hearts[i % hearts.length];
      const angle = (360/16)*i + (Math.random()*20-10);
      const dist  = 140 + Math.random()*120;
      const rad   = angle*Math.PI/180;
      el.style.setProperty('--end-pos', `translate(${Math.cos(rad)*dist}px,${Math.sin(rad)*dist}px)`);
      el.style.setProperty('--rot', (Math.random()*360)+'deg');
      el.style.animationName     = 'burstOut';
      el.style.animationDuration = (0.8+Math.random()*0.5)+'s';
      el.style.animationDelay    = (Math.random()*0.3)+'s';
      el.style.animationTimingFunction = 'cubic-bezier(.2,.8,.3,1)';
      el.style.animationFillMode = 'both';
      el.style.fontSize          = (1.4+Math.random()*1.2)+'rem';
      container.appendChild(el);
    }
  }

  function spawnFloatingHearts(container){
    const emojis = ['üíù','üíñ','üíó','‚ù§Ô∏è','üíì','üíï'];
    for(let i=0; i<18; i++){
      const el = document.createElement('div');
      el.className = 'float-heart';
      el.textContent = emojis[i % emojis.length];
      el.style.setProperty('--s', 0.5+Math.random()*1);
      el.style.setProperty('--o', 0.25+Math.random()*0.45);
      el.style.setProperty('--drift', (Math.random()*80-40)+'px');
      el.style.left              = (Math.random()*90)+'vw';
      el.style.bottom            = '-60px';
      el.style.fontSize          = (1+Math.random()*1.5)+'rem';
      el.style.animationDuration = (5+Math.random()*7)+'s';
      el.style.animationDelay    = (Math.random()*4)+'s';
      container.appendChild(el);
    }
  }

  function spawnSparkles(container){
    for(let i=0; i<20; i++){
      const el = document.createElement('div');
      el.className = 'sparkle';
      const angle = Math.random()*360, dist = 60+Math.random()*160, rad = angle*Math.PI/180;
      el.style.setProperty('--sp-end', `translate(${Math.cos(rad)*dist}px,${Math.sin(rad)*dist}px)`);
      el.style.animationName     = 'sparkleAnim';
      el.style.animationDuration = (0.6+Math.random()*0.8)+'s';
      el.style.animationDelay    = (Math.random()*1.2)+'s';
      el.style.animationTimingFunction = 'ease-out';
      el.style.animationFillMode = 'both';
      el.style.width = el.style.height = (5+Math.random()*7)+'px';
      container.appendChild(el);
      setInterval(function(){
        el.style.animationName = 'none';
        void el.offsetWidth;
        const a2=Math.random()*360, d2=60+Math.random()*160, r2=a2*Math.PI/180;
        el.style.setProperty('--sp-end', `translate(${Math.cos(r2)*d2}px,${Math.sin(r2)*d2}px)`);
        el.style.animationDelay='0s';
        el.style.animationName='sparkleAnim';
      }, 2500);
    }
  }

  (function spawnPetals(){
    for(let i=0; i<14; i++){
      const p = document.createElement('div');
      p.className = 'petal';
      p.style.left              = Math.random()*100+'vw';
      p.style.animationDelay    = (Math.random()*6)+'s';
      p.style.animationDuration = (6+Math.random()*8)+'s';
      p.style.width = p.style.height = (12+Math.random()*16)+'px';
      document.body.appendChild(p);
    }
  })();
})();
</script>
</body>
</html>
